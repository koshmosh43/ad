/** <<Typr Font Parser> function dependency: >.init **/

troikaDefine(
function(){return (
function(){return"undefined"==typeof window&&(self.window=self),function(t){var e={parse:function(t){var i=e._bin,n=new Uint8Array(t);if("ttcf"==i.readASCII(n,0,4)){var r=4;i.readUshort(n,r),r+=2,i.readUshort(n,r),r+=2;var o=i.readUint(n,r);r+=4;for(var a=[],s=0;s<o;s++){var l=i.readUint(n,r);r+=4,a.push(e._readFont(n,l))}return a}return[e._readFont(n,0)]},_readFont:function(t,i){var n=e._bin,r=i;n.readFixed(t,i),i+=4;var o=n.readUshort(t,i);i+=2,n.readUshort(t,i),i+=2,n.readUshort(t,i),i+=2,n.readUshort(t,i),i+=2;for(var a=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],s={_data:t,_offset:r},l={},h=0;h<o;h++){var c=n.readASCII(t,i,4);i+=4,n.readUint(t,i),i+=4;var u=n.readUint(t,i);i+=4;var d=n.readUint(t,i);i+=4,l[c]={offset:u,length:d}}for(h=0;h<a.length;h++){var p=a[h];l[p]&&(s[p.trim()]=e[p.trim()].parse(t,l[p].offset,l[p].length,s))}return s},_tabOffset:function(t,i,n){for(var r=e._bin,o=r.readUshort(t,n+4),a=n+12,s=0;s<o;s++){var l=r.readASCII(t,a,4);a+=4,r.readUint(t,a),a+=4;var h=r.readUint(t,a);if(a+=4,r.readUint(t,a),a+=4,l==i)return h}return 0}};e._bin={readFixed:function(t,e){return(t[e]<<8|t[e+1])+(t[e+2]<<8|t[e+3])/65540},readF2dot14:function(t,i){return e._bin.readShort(t,i)/16384},readInt:function(t,i){return e._bin._view(t).getInt32(i)},readInt8:function(t,i){return e._bin._view(t).getInt8(i)},readShort:function(t,i){return e._bin._view(t).getInt16(i)},readUshort:function(t,i){return e._bin._view(t).getUint16(i)},readUshorts:function(t,i,n){for(var r=[],o=0;o<n;o++)r.push(e._bin.readUshort(t,i+2*o));return r},readUint:function(t,i){return e._bin._view(t).getUint32(i)},readUint64:function(t,i){return 4294967296*e._bin.readUint(t,i)+e._bin.readUint(t,i+4)},readASCII:function(t,e,i){for(var n="",r=0;r<i;r++)n+=String.fromCharCode(t[e+r]);return n},readUnicode:function(t,e,i){for(var n="",r=0;r<i;r++){var o=t[e++]<<8|t[e++];n+=String.fromCharCode(o)}return n},_tdec:"undefined"!=typeof window&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(t,i,n){var r=e._bin._tdec;return r&&0==i&&n==t.length?r.decode(t):e._bin.readASCII(t,i,n)},readBytes:function(t,e,i){for(var n=[],r=0;r<i;r++)n.push(t[e+r]);return n},readASCIIArray:function(t,e,i){for(var n=[],r=0;r<i;r++)n.push(String.fromCharCode(t[e+r]));return n},_view:function(t){return t._dataView||(t._dataView=t.buffer?new DataView(t.buffer,t.byteOffset,t.byteLength):new DataView(new Uint8Array(t).buffer))}},e._lctf={},e._lctf.parse=function(t,i,n,r,o){var a=e._bin,s={},l=i;a.readFixed(t,i),i+=4;var h=a.readUshort(t,i);i+=2;var c=a.readUshort(t,i);i+=2;var u=a.readUshort(t,i);return i+=2,s.scriptList=e._lctf.readScriptList(t,l+h),s.featureList=e._lctf.readFeatureList(t,l+c),s.lookupList=e._lctf.readLookupList(t,l+u,o),s},e._lctf.readLookupList=function(t,i,n){var r=e._bin,o=i,a=[],s=r.readUshort(t,i);i+=2;for(var l=0;l<s;l++){var h=r.readUshort(t,i);i+=2;var c=e._lctf.readLookupTable(t,o+h,n);a.push(c)}return a},e._lctf.readLookupTable=function(t,i,n){var r=e._bin,o=i,a={tabs:[]};a.ltype=r.readUshort(t,i),i+=2,a.flag=r.readUshort(t,i),i+=2;var s=r.readUshort(t,i);i+=2;for(var l=a.ltype,h=0;h<s;h++){var c=r.readUshort(t,i);i+=2;var u=n(t,l,o+c,a);a.tabs.push(u)}return a},e._lctf.numOfOnes=function(t){for(var e=0,i=0;i<32;i++)0!=(t>>>i&1)&&e++;return e},e._lctf.readClassDef=function(t,i){var n=e._bin,r=[],o=n.readUshort(t,i);if(i+=2,1==o){var a=n.readUshort(t,i);i+=2;var s=n.readUshort(t,i);i+=2;for(var l=0;l<s;l++)r.push(a+l),r.push(a+l),r.push(n.readUshort(t,i)),i+=2}if(2==o){var h=n.readUshort(t,i);for(i+=2,l=0;l<h;l++)r.push(n.readUshort(t,i)),i+=2,r.push(n.readUshort(t,i)),i+=2,r.push(n.readUshort(t,i)),i+=2}return r},e._lctf.getInterval=function(t,e){for(var i=0;i<t.length;i+=3){var n=t[i],r=t[i+1];if(t[i+2],n<=e&&e<=r)return i}return-1},e._lctf.readCoverage=function(t,i){var n=e._bin,r={};r.fmt=n.readUshort(t,i),i+=2;var o=n.readUshort(t,i);return i+=2,1==r.fmt&&(r.tab=n.readUshorts(t,i,o)),2==r.fmt&&(r.tab=n.readUshorts(t,i,3*o)),r},e._lctf.coverageIndex=function(t,i){var n=t.tab;if(1==t.fmt)return n.indexOf(i);if(2==t.fmt){var r=e._lctf.getInterval(n,i);if(-1!=r)return n[r+2]+(i-n[r])}return-1},e._lctf.readFeatureList=function(t,i){var n=e._bin,r=i,o=[],a=n.readUshort(t,i);i+=2;for(var s=0;s<a;s++){var l=n.readASCII(t,i,4);i+=4;var h=n.readUshort(t,i);i+=2;var c=e._lctf.readFeatureTable(t,r+h);c.tag=l.trim(),o.push(c)}return o},e._lctf.readFeatureTable=function(t,i){var n=e._bin,r=i,o={},a=n.readUshort(t,i);i+=2,a>0&&(o.featureParams=r+a);var s=n.readUshort(t,i);i+=2,o.tab=[];for(var l=0;l<s;l++)o.tab.push(n.readUshort(t,i+2*l));return o},e._lctf.readScriptList=function(t,i){var n=e._bin,r=i,o={},a=n.readUshort(t,i);i+=2;for(var s=0;s<a;s++){var l=n.readASCII(t,i,4);i+=4;var h=n.readUshort(t,i);i+=2,o[l.trim()]=e._lctf.readScriptTable(t,r+h)}return o},e._lctf.readScriptTable=function(t,i){var n=e._bin,r=i,o={},a=n.readUshort(t,i);i+=2,a>0&&(o.default=e._lctf.readLangSysTable(t,r+a));var s=n.readUshort(t,i);i+=2;for(var l=0;l<s;l++){var h=n.readASCII(t,i,4);i+=4;var c=n.readUshort(t,i);i+=2,o[h.trim()]=e._lctf.readLangSysTable(t,r+c)}return o},e._lctf.readLangSysTable=function(t,i){var n=e._bin,r={};n.readUshort(t,i),i+=2,r.reqFeature=n.readUshort(t,i),i+=2;var o=n.readUshort(t,i);return i+=2,r.features=n.readUshorts(t,i,o),r},e.CFF={},e.CFF.parse=function(t,i,n){var r=e._bin;(t=new Uint8Array(t.buffer,i,n))[i=0],t[++i],t[++i],t[++i],i++;var o=[];i=e.CFF.readIndex(t,i,o);for(var a=[],s=0;s<o.length-1;s++)a.push(r.readASCII(t,i+o[s],o[s+1]-o[s]));i+=o[o.length-1];var l=[];i=e.CFF.readIndex(t,i,l);var h=[];for(s=0;s<l.length-1;s++)h.push(e.CFF.readDict(t,i+l[s],i+l[s+1]));i+=l[l.length-1];var c=h[0],u=[];i=e.CFF.readIndex(t,i,u);var d=[];for(s=0;s<u.length-1;s++)d.push(r.readASCII(t,i+u[s],u[s+1]-u[s]));if(i+=u[u.length-1],e.CFF.readSubrs(t,i,c),c.CharStrings){i=c.CharStrings,u=[],i=e.CFF.readIndex(t,i,u);var p=[];for(s=0;s<u.length-1;s++)p.push(r.readBytes(t,i+u[s],u[s+1]-u[s]));c.CharStrings=p}if(c.ROS){i=c.FDArray;var m=[];for(i=e.CFF.readIndex(t,i,m),c.FDArray=[],s=0;s<m.length-1;s++){var g=e.CFF.readDict(t,i+m[s],i+m[s+1]);e.CFF._readFDict(t,g,d),c.FDArray.push(g)}i+=m[m.length-1],i=c.FDSelect,c.FDSelect=[];var f=t[i];if(i++,3!=f)throw f;var M=r.readUshort(t,i);for(i+=2,s=0;s<M+1;s++)c.FDSelect.push(r.readUshort(t,i),t[i+2]),i+=3}return c.Encoding&&(c.Encoding=e.CFF.readEncoding(t,c.Encoding,c.CharStrings.length)),c.charset&&(c.charset=e.CFF.readCharset(t,c.charset,c.CharStrings.length)),e.CFF._readFDict(t,c,d),c},e.CFF._readFDict=function(t,i,n){var r;for(var o in i.Private&&(r=i.Private[1],i.Private=e.CFF.readDict(t,r,r+i.Private[0]),i.Private.Subrs&&e.CFF.readSubrs(t,r+i.Private.Subrs,i.Private)),i)-1!=["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(o)&&(i[o]=n[i[o]-426+35])},e.CFF.readSubrs=function(t,i,n){var r=e._bin,o=[];i=e.CFF.readIndex(t,i,o);var a,s=o.length;a=s<1240?107:s<33900?1131:32768,n.Bias=a,n.Subrs=[];for(var l=0;l<o.length-1;l++)n.Subrs.push(r.readBytes(t,i+o[l],o[l+1]-o[l]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(t,e){for(var i=0;i<t.charset.length;i++)if(t.charset[i]==e)return i;return-1},e.CFF.glyphBySE=function(t,i){return i<0||i>255?-1:e.CFF.glyphByUnicode(t,e.CFF.tableSE[i])},e.CFF.readEncoding=function(t,i,n){e._bin;var r=[".notdef"],o=t[i];if(i++,0!=o)throw"error: unknown encoding format: "+o;var a=t[i];i++;for(var s=0;s<a;s++)r.push(t[i+s]);return r},e.CFF.readCharset=function(t,i,n){var r=e._bin,o=[".notdef"],a=t[i];if(i++,0==a)for(var s=0;s<n;s++){var l=r.readUshort(t,i);i+=2,o.push(l)}else{if(1!=a&&2!=a)throw"error: format: "+a;for(;o.length<n;){l=r.readUshort(t,i),i+=2;var h=0;for(1==a?(h=t[i],i++):(h=r.readUshort(t,i),i+=2),s=0;s<=h;s++)o.push(l),l++}}return o},e.CFF.readIndex=function(t,i,n){var r=e._bin,o=r.readUshort(t,i)+1,a=t[i+=2];if(i++,1==a)for(var s=0;s<o;s++)n.push(t[i+s]);else if(2==a)for(s=0;s<o;s++)n.push(r.readUshort(t,i+2*s));else if(3==a)for(s=0;s<o;s++)n.push(16777215&r.readUint(t,i+3*s-1));else if(1!=o)throw"unsupported offset size: "+a+", count: "+o;return(i+=o*a)-1},e.CFF.getCharString=function(t,i,n){var r=e._bin,o=t[i],a=t[i+1];t[i+2],t[i+3],t[i+4];var s=1,l=null,h=null;o<=20&&(l=o,s=1),12==o&&(l=100*o+a,s=2),21<=o&&o<=27&&(l=o,s=1),28==o&&(h=r.readShort(t,i+1),s=3),29<=o&&o<=31&&(l=o,s=1),32<=o&&o<=246&&(h=o-139,s=1),247<=o&&o<=250&&(h=256*(o-247)+a+108,s=2),251<=o&&o<=254&&(h=256*-(o-251)-a-108,s=2),255==o&&(h=r.readInt(t,i+1)/65535,s=5),n.val=null!=h?h:"o"+l,n.size=s},e.CFF.readCharString=function(t,i,n){for(var r=i+n,o=e._bin,a=[];i<r;){var s=t[i],l=t[i+1];t[i+2],t[i+3],t[i+4];var h=1,c=null,u=null;s<=20&&(c=s,h=1),12==s&&(c=100*s+l,h=2),19!=s&&20!=s||(c=s,h=2),21<=s&&s<=27&&(c=s,h=1),28==s&&(u=o.readShort(t,i+1),h=3),29<=s&&s<=31&&(c=s,h=1),32<=s&&s<=246&&(u=s-139,h=1),247<=s&&s<=250&&(u=256*(s-247)+l+108,h=2),251<=s&&s<=254&&(u=256*-(s-251)-l-108,h=2),255==s&&(u=o.readInt(t,i+1)/65535,h=5),a.push(null!=u?u:"o"+c),i+=h}return a},e.CFF.readDict=function(t,i,n){for(var r=e._bin,o={},a=[];i<n;){var s=t[i],l=t[i+1];t[i+2],t[i+3],t[i+4];var h=1,c=null,u=null;if(28==s&&(u=r.readShort(t,i+1),h=3),29==s&&(u=r.readInt(t,i+1),h=5),32<=s&&s<=246&&(u=s-139,h=1),247<=s&&s<=250&&(u=256*(s-247)+l+108,h=2),251<=s&&s<=254&&(u=256*-(s-251)-l-108,h=2),255==s)throw u=r.readInt(t,i+1)/65535,h=5,"unknown number";if(30==s){var d=[];for(h=1;;){var p=t[i+h];h++;var m=p>>4,g=15&p;if(15!=m&&d.push(m),15!=g&&d.push(g),15==g)break}for(var f="",M=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],y=0;y<d.length;y++)f+=M[d[y]];u=parseFloat(f)}s<=21&&(c=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][s],h=1,12==s&&(c=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][l],h=2)),null!=c?(o[c]=1==a.length?a[0]:a,a=[]):a.push(u),i+=h}return o},e.cmap={},e.cmap.parse=function(t,i,n){t=new Uint8Array(t.buffer,i,n),i=0;var r=e._bin,o={};r.readUshort(t,i),i+=2;var a=r.readUshort(t,i);i+=2;var s=[];o.tables=[];for(var l=0;l<a;l++){var h=r.readUshort(t,i);i+=2;var c=r.readUshort(t,i);i+=2;var u=r.readUint(t,i);i+=4;var d="p"+h+"e"+c,p=s.indexOf(u);if(-1==p){var m;p=o.tables.length,s.push(u);var g=r.readUshort(t,u);0==g?m=e.cmap.parse0(t,u):4==g?m=e.cmap.parse4(t,u):6==g?m=e.cmap.parse6(t,u):12==g?m=e.cmap.parse12(t,u):console.debug("unknown format: "+g,h,c,u),o.tables.push(m)}if(null!=o[d])throw"multiple tables for one platform+encoding";o[d]=p}return o},e.cmap.parse0=function(t,i){var n=e._bin,r={};r.format=n.readUshort(t,i),i+=2;var o=n.readUshort(t,i);i+=2,n.readUshort(t,i),i+=2,r.map=[];for(var a=0;a<o-6;a++)r.map.push(t[i+a]);return r},e.cmap.parse4=function(t,i){var n=e._bin,r=i,o={};o.format=n.readUshort(t,i),i+=2;var a=n.readUshort(t,i);i+=2,n.readUshort(t,i),i+=2;var s=n.readUshort(t,i);i+=2;var l=s/2;o.searchRange=n.readUshort(t,i),i+=2,o.entrySelector=n.readUshort(t,i),i+=2,o.rangeShift=n.readUshort(t,i),i+=2,o.endCount=n.readUshorts(t,i,l),i+=2*l,i+=2,o.startCount=n.readUshorts(t,i,l),i+=2*l,o.idDelta=[];for(var h=0;h<l;h++)o.idDelta.push(n.readShort(t,i)),i+=2;for(o.idRangeOffset=n.readUshorts(t,i,l),i+=2*l,o.glyphIdArray=[];i<r+a;)o.glyphIdArray.push(n.readUshort(t,i)),i+=2;return o},e.cmap.parse6=function(t,i){var n=e._bin,r={};r.format=n.readUshort(t,i),i+=2,n.readUshort(t,i),i+=2,n.readUshort(t,i),i+=2,r.firstCode=n.readUshort(t,i),i+=2;var o=n.readUshort(t,i);i+=2,r.glyphIdArray=[];for(var a=0;a<o;a++)r.glyphIdArray.push(n.readUshort(t,i)),i+=2;return r},e.cmap.parse12=function(t,i){var n=e._bin,r={};r.format=n.readUshort(t,i),i+=2,i+=2,n.readUint(t,i),i+=4,n.readUint(t,i),i+=4;var o=n.readUint(t,i);i+=4,r.groups=[];for(var a=0;a<o;a++){var s=i+12*a,l=n.readUint(t,s+0),h=n.readUint(t,s+4),c=n.readUint(t,s+8);r.groups.push([l,h,c])}return r},e.glyf={},e.glyf.parse=function(t,e,i,n){for(var r=[],o=0;o<n.maxp.numGlyphs;o++)r.push(null);return r},e.glyf._parseGlyf=function(t,i){var n=e._bin,r=t._data,o=e._tabOffset(r,"glyf",t._offset)+t.loca[i];if(t.loca[i]==t.loca[i+1])return null;var a={};if(a.noc=n.readShort(r,o),o+=2,a.xMin=n.readShort(r,o),o+=2,a.yMin=n.readShort(r,o),o+=2,a.xMax=n.readShort(r,o),o+=2,a.yMax=n.readShort(r,o),o+=2,a.xMin>=a.xMax||a.yMin>=a.yMax)return null;if(a.noc>0){a.endPts=[];for(var s=0;s<a.noc;s++)a.endPts.push(n.readUshort(r,o)),o+=2;var l=n.readUshort(r,o);if(o+=2,r.length-o<l)return null;a.instructions=n.readBytes(r,o,l),o+=l;var h=a.endPts[a.noc-1]+1;for(a.flags=[],s=0;s<h;s++){var c=r[o];if(o++,a.flags.push(c),0!=(8&c)){var u=r[o];o++;for(var d=0;d<u;d++)a.flags.push(c),s++}}for(a.xs=[],s=0;s<h;s++){var p=0!=(2&a.flags[s]),m=0!=(16&a.flags[s]);p?(a.xs.push(m?r[o]:-r[o]),o++):m?a.xs.push(0):(a.xs.push(n.readShort(r,o)),o+=2)}for(a.ys=[],s=0;s<h;s++)p=0!=(4&a.flags[s]),m=0!=(32&a.flags[s]),p?(a.ys.push(m?r[o]:-r[o]),o++):m?a.ys.push(0):(a.ys.push(n.readShort(r,o)),o+=2);var g=0,f=0;for(s=0;s<h;s++)g+=a.xs[s],f+=a.ys[s],a.xs[s]=g,a.ys[s]=f}else{var M;a.parts=[];do{M=n.readUshort(r,o),o+=2;var y={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(a.parts.push(y),y.glyphIndex=n.readUshort(r,o),o+=2,1&M){var v=n.readShort(r,o);o+=2;var b=n.readShort(r,o);o+=2}else v=n.readInt8(r,o),o++,b=n.readInt8(r,o),o++;2&M?(y.m.tx=v,y.m.ty=b):(y.p1=v,y.p2=b),8&M?(y.m.a=y.m.d=n.readF2dot14(r,o),o+=2):64&M?(y.m.a=n.readF2dot14(r,o),o+=2,y.m.d=n.readF2dot14(r,o),o+=2):128&M&&(y.m.a=n.readF2dot14(r,o),o+=2,y.m.b=n.readF2dot14(r,o),o+=2,y.m.c=n.readF2dot14(r,o),o+=2,y.m.d=n.readF2dot14(r,o),o+=2)}while(32&M);if(256&M){var A=n.readUshort(r,o);for(o+=2,a.instr=[],s=0;s<A;s++)a.instr.push(r[o]),o++}}return a},e.GDEF={},e.GDEF.parse=function(t,i,n,r){var o=i;i+=4;var a=e._bin.readUshort(t,i);return{glyphClassDef:0===a?null:e._lctf.readClassDef(t,o+a)}},e.GPOS={},e.GPOS.parse=function(t,i,n,r){return e._lctf.parse(t,i,n,r,e.GPOS.subt)},e.GPOS.subt=function(t,i,n,r){var o=e._bin,a=n,s={};if(s.fmt=o.readUshort(t,n),n+=2,1==i||2==i||3==i||7==i||8==i&&s.fmt<=2){var l=o.readUshort(t,n);n+=2,s.coverage=e._lctf.readCoverage(t,l+a)}if(1==i&&1==s.fmt){var h=o.readUshort(t,n);n+=2,0!=h&&(s.pos=e.GPOS.readValueRecord(t,n,h))}else if(2==i&&s.fmt>=1&&s.fmt<=2){h=o.readUshort(t,n),n+=2;var c=o.readUshort(t,n);n+=2;var u=e._lctf.numOfOnes(h),d=e._lctf.numOfOnes(c);if(1==s.fmt){s.pairsets=[];var p=o.readUshort(t,n);n+=2;for(var m=0;m<p;m++){var g=a+o.readUshort(t,n);n+=2;var f=o.readUshort(t,g);g+=2;for(var M=[],y=0;y<f;y++){var v=o.readUshort(t,g);g+=2,0!=h&&(C=e.GPOS.readValueRecord(t,g,h),g+=2*u),0!=c&&(_=e.GPOS.readValueRecord(t,g,c),g+=2*d),M.push({gid2:v,val1:C,val2:_})}s.pairsets.push(M)}}if(2==s.fmt){var b=o.readUshort(t,n);n+=2;var A=o.readUshort(t,n);n+=2;var P=o.readUshort(t,n);n+=2;var x=o.readUshort(t,n);for(n+=2,s.classDef1=e._lctf.readClassDef(t,a+b),s.classDef2=e._lctf.readClassDef(t,a+A),s.matrix=[],m=0;m<P;m++){var S=[];for(y=0;y<x;y++){var C=null,_=null;0!=h&&(C=e.GPOS.readValueRecord(t,n,h),n+=2*u),0!=c&&(_=e.GPOS.readValueRecord(t,n,c),n+=2*d),S.push({val1:C,val2:_})}s.matrix.push(S)}}}else if(4==i&&1==s.fmt)s.markCoverage=e._lctf.readCoverage(t,o.readUshort(t,n)+a),s.baseCoverage=e._lctf.readCoverage(t,o.readUshort(t,n+2)+a),s.markClassCount=o.readUshort(t,n+4),s.markArray=e.GPOS.readMarkArray(t,o.readUshort(t,n+6)+a),s.baseArray=e.GPOS.readBaseArray(t,o.readUshort(t,n+8)+a,s.markClassCount);else if(6==i&&1==s.fmt)s.mark1Coverage=e._lctf.readCoverage(t,o.readUshort(t,n)+a),s.mark2Coverage=e._lctf.readCoverage(t,o.readUshort(t,n+2)+a),s.markClassCount=o.readUshort(t,n+4),s.mark1Array=e.GPOS.readMarkArray(t,o.readUshort(t,n+6)+a),s.mark2Array=e.GPOS.readBaseArray(t,o.readUshort(t,n+8)+a,s.markClassCount);else{if(9==i&&1==s.fmt){var w=o.readUshort(t,n);n+=2;var T=o.readUint(t,n);if(n+=4,9==r.ltype)r.ltype=w;else if(r.ltype!=w)throw"invalid extension substitution";return e.GPOS.subt(t,r.ltype,a+T)}console.debug("unsupported GPOS table LookupType",i,"format",s.fmt)}return s},e.GPOS.readValueRecord=function(t,i,n){var r=e._bin,o=[];return o.push(1&n?r.readShort(t,i):0),i+=1&n?2:0,o.push(2&n?r.readShort(t,i):0),i+=2&n?2:0,o.push(4&n?r.readShort(t,i):0),i+=4&n?2:0,o.push(8&n?r.readShort(t,i):0),i+=8&n?2:0,o},e.GPOS.readBaseArray=function(t,i,n){var r=e._bin,o=[],a=i,s=r.readUshort(t,i);i+=2;for(var l=0;l<s;l++){for(var h=[],c=0;c<n;c++)h.push(e.GPOS.readAnchorRecord(t,a+r.readUshort(t,i))),i+=2;o.push(h)}return o},e.GPOS.readMarkArray=function(t,i){var n=e._bin,r=[],o=i,a=n.readUshort(t,i);i+=2;for(var s=0;s<a;s++){var l=e.GPOS.readAnchorRecord(t,n.readUshort(t,i+2)+o);l.markClass=n.readUshort(t,i),r.push(l),i+=4}return r},e.GPOS.readAnchorRecord=function(t,i){var n=e._bin,r={};return r.fmt=n.readUshort(t,i),r.x=n.readShort(t,i+2),r.y=n.readShort(t,i+4),r},e.GSUB={},e.GSUB.parse=function(t,i,n,r){return e._lctf.parse(t,i,n,r,e.GSUB.subt)},e.GSUB.subt=function(t,i,n,r){var o=e._bin,a=n,s={};if(s.fmt=o.readUshort(t,n),n+=2,1!=i&&2!=i&&4!=i&&5!=i&&6!=i)return null;if(1==i||2==i||4==i||5==i&&s.fmt<=2||6==i&&s.fmt<=2){var l=o.readUshort(t,n);n+=2,s.coverage=e._lctf.readCoverage(t,a+l)}if(1==i&&s.fmt>=1&&s.fmt<=2){if(1==s.fmt)s.delta=o.readShort(t,n),n+=2;else if(2==s.fmt){var h=o.readUshort(t,n);n+=2,s.newg=o.readUshorts(t,n,h),n+=2*s.newg.length}}else if(2==i&&1==s.fmt){h=o.readUshort(t,n),n+=2,s.seqs=[];for(var c=0;c<h;c++){var u=o.readUshort(t,n)+a;n+=2;var d=o.readUshort(t,u);s.seqs.push(o.readUshorts(t,u+2,d))}}else if(4==i)for(s.vals=[],h=o.readUshort(t,n),n+=2,c=0;c<h;c++){var p=o.readUshort(t,n);n+=2,s.vals.push(e.GSUB.readLigatureSet(t,a+p))}else if(5==i&&2==s.fmt){if(2==s.fmt){var m=o.readUshort(t,n);n+=2,s.cDef=e._lctf.readClassDef(t,a+m),s.scset=[];var g=o.readUshort(t,n);for(n+=2,c=0;c<g;c++){var f=o.readUshort(t,n);n+=2,s.scset.push(0==f?null:e.GSUB.readSubClassSet(t,a+f))}}}else if(6==i&&3==s.fmt){if(3==s.fmt){for(c=0;c<3;c++){h=o.readUshort(t,n),n+=2;for(var M=[],y=0;y<h;y++)M.push(e._lctf.readCoverage(t,a+o.readUshort(t,n+2*y)));n+=2*h,0==c&&(s.backCvg=M),1==c&&(s.inptCvg=M),2==c&&(s.ahedCvg=M)}h=o.readUshort(t,n),n+=2,s.lookupRec=e.GSUB.readSubstLookupRecords(t,n,h)}}else{if(7==i&&1==s.fmt){var v=o.readUshort(t,n);n+=2;var b=o.readUint(t,n);if(n+=4,9==r.ltype)r.ltype=v;else if(r.ltype!=v)throw"invalid extension substitution";return e.GSUB.subt(t,r.ltype,a+b)}console.debug("unsupported GSUB table LookupType",i,"format",s.fmt)}return s},e.GSUB.readSubClassSet=function(t,i){var n=e._bin.readUshort,r=i,o=[],a=n(t,i);i+=2;for(var s=0;s<a;s++){var l=n(t,i);i+=2,o.push(e.GSUB.readSubClassRule(t,r+l))}return o},e.GSUB.readSubClassRule=function(t,i){var n=e._bin.readUshort,r={},o=n(t,i),a=n(t,i+=2);i+=2,r.input=[];for(var s=0;s<o-1;s++)r.input.push(n(t,i)),i+=2;return r.substLookupRecords=e.GSUB.readSubstLookupRecords(t,i,a),r},e.GSUB.readSubstLookupRecords=function(t,i,n){for(var r=e._bin.readUshort,o=[],a=0;a<n;a++)o.push(r(t,i),r(t,i+2)),i+=4;return o},e.GSUB.readChainSubClassSet=function(t,i){var n=e._bin,r=i,o=[],a=n.readUshort(t,i);i+=2;for(var s=0;s<a;s++){var l=n.readUshort(t,i);i+=2,o.push(e.GSUB.readChainSubClassRule(t,r+l))}return o},e.GSUB.readChainSubClassRule=function(t,i){for(var n=e._bin,r={},o=["backtrack","input","lookahead"],a=0;a<o.length;a++){var s=n.readUshort(t,i);i+=2,1==a&&s--,r[o[a]]=n.readUshorts(t,i,s),i+=2*r[o[a]].length}return s=n.readUshort(t,i),i+=2,r.subst=n.readUshorts(t,i,2*s),i+=2*r.subst.length,r},e.GSUB.readLigatureSet=function(t,i){var n=e._bin,r=i,o=[],a=n.readUshort(t,i);i+=2;for(var s=0;s<a;s++){var l=n.readUshort(t,i);i+=2,o.push(e.GSUB.readLigature(t,r+l))}return o},e.GSUB.readLigature=function(t,i){var n=e._bin,r={chain:[]};r.nglyph=n.readUshort(t,i),i+=2;var o=n.readUshort(t,i);i+=2;for(var a=0;a<o-1;a++)r.chain.push(n.readUshort(t,i)),i+=2;return r},e.head={},e.head.parse=function(t,i,n){var r=e._bin,o={};return r.readFixed(t,i),i+=4,o.fontRevision=r.readFixed(t,i),i+=4,r.readUint(t,i),i+=4,r.readUint(t,i),i+=4,o.flags=r.readUshort(t,i),i+=2,o.unitsPerEm=r.readUshort(t,i),i+=2,o.created=r.readUint64(t,i),i+=8,o.modified=r.readUint64(t,i),i+=8,o.xMin=r.readShort(t,i),i+=2,o.yMin=r.readShort(t,i),i+=2,o.xMax=r.readShort(t,i),i+=2,o.yMax=r.readShort(t,i),i+=2,o.macStyle=r.readUshort(t,i),i+=2,o.lowestRecPPEM=r.readUshort(t,i),i+=2,o.fontDirectionHint=r.readShort(t,i),i+=2,o.indexToLocFormat=r.readShort(t,i),i+=2,o.glyphDataFormat=r.readShort(t,i),i+=2,o},e.hhea={},e.hhea.parse=function(t,i,n){var r=e._bin,o={};return r.readFixed(t,i),i+=4,o.ascender=r.readShort(t,i),i+=2,o.descender=r.readShort(t,i),i+=2,o.lineGap=r.readShort(t,i),i+=2,o.advanceWidthMax=r.readUshort(t,i),i+=2,o.minLeftSideBearing=r.readShort(t,i),i+=2,o.minRightSideBearing=r.readShort(t,i),i+=2,o.xMaxExtent=r.readShort(t,i),i+=2,o.caretSlopeRise=r.readShort(t,i),i+=2,o.caretSlopeRun=r.readShort(t,i),i+=2,o.caretOffset=r.readShort(t,i),i+=2,i+=8,o.metricDataFormat=r.readShort(t,i),i+=2,o.numberOfHMetrics=r.readUshort(t,i),i+=2,o},e.hmtx={},e.hmtx.parse=function(t,i,n,r){for(var o=e._bin,a={aWidth:[],lsBearing:[]},s=0,l=0,h=0;h<r.maxp.numGlyphs;h++)h<r.hhea.numberOfHMetrics&&(s=o.readUshort(t,i),i+=2,l=o.readShort(t,i),i+=2),a.aWidth.push(s),a.lsBearing.push(l);return a},e.kern={},e.kern.parse=function(t,i,n,r){var o=e._bin,a=o.readUshort(t,i);if(i+=2,1==a)return e.kern.parseV1(t,i-2,n,r);var s=o.readUshort(t,i);i+=2;for(var l={glyph1:[],rval:[]},h=0;h<s;h++){i+=2,n=o.readUshort(t,i),i+=2;var c=o.readUshort(t,i);i+=2;var u=c>>>8;if(0!=(u&=15))throw"unknown kern table format: "+u;i=e.kern.readFormat0(t,i,l)}return l},e.kern.parseV1=function(t,i,n,r){var o=e._bin;o.readFixed(t,i),i+=4;var a=o.readUint(t,i);i+=4;for(var s={glyph1:[],rval:[]},l=0;l<a;l++){o.readUint(t,i),i+=4;var h=o.readUshort(t,i);i+=2,o.readUshort(t,i),i+=2;var c=h>>>8;if(0!=(c&=15))throw"unknown kern table format: "+c;i=e.kern.readFormat0(t,i,s)}return s},e.kern.readFormat0=function(t,i,n){var r=e._bin,o=-1,a=r.readUshort(t,i);i+=2,r.readUshort(t,i),i+=2,r.readUshort(t,i),i+=2,r.readUshort(t,i),i+=2;for(var s=0;s<a;s++){var l=r.readUshort(t,i);i+=2;var h=r.readUshort(t,i);i+=2;var c=r.readShort(t,i);i+=2,l!=o&&(n.glyph1.push(l),n.rval.push({glyph2:[],vals:[]}));var u=n.rval[n.rval.length-1];u.glyph2.push(h),u.vals.push(c),o=l}return i},e.loca={},e.loca.parse=function(t,i,n,r){var o=e._bin,a=[],s=r.head.indexToLocFormat,l=r.maxp.numGlyphs+1;if(0==s)for(var h=0;h<l;h++)a.push(o.readUshort(t,i+(h<<1))<<1);if(1==s)for(h=0;h<l;h++)a.push(o.readUint(t,i+(h<<2)));return a},e.maxp={},e.maxp.parse=function(t,i,n){var r=e._bin,o={},a=r.readUint(t,i);return i+=4,o.numGlyphs=r.readUshort(t,i),i+=2,65536==a&&(o.maxPoints=r.readUshort(t,i),i+=2,o.maxContours=r.readUshort(t,i),i+=2,o.maxCompositePoints=r.readUshort(t,i),i+=2,o.maxCompositeContours=r.readUshort(t,i),i+=2,o.maxZones=r.readUshort(t,i),i+=2,o.maxTwilightPoints=r.readUshort(t,i),i+=2,o.maxStorage=r.readUshort(t,i),i+=2,o.maxFunctionDefs=r.readUshort(t,i),i+=2,o.maxInstructionDefs=r.readUshort(t,i),i+=2,o.maxStackElements=r.readUshort(t,i),i+=2,o.maxSizeOfInstructions=r.readUshort(t,i),i+=2,o.maxComponentElements=r.readUshort(t,i),i+=2,o.maxComponentDepth=r.readUshort(t,i),i+=2),o},e.name={},e.name.parse=function(t,i,n){var r=e._bin,o={};r.readUshort(t,i),i+=2;var a=r.readUshort(t,i);i+=2,r.readUshort(t,i);for(var s,l=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],h=i+=2,c=0;c<a;c++){var u=r.readUshort(t,i);i+=2;var d=r.readUshort(t,i);i+=2;var p=r.readUshort(t,i);i+=2;var m=r.readUshort(t,i);i+=2;var g=r.readUshort(t,i);i+=2;var f=r.readUshort(t,i);i+=2;var M,y=l[m],v=h+12*a+f;if(0==u)M=r.readUnicode(t,v,g/2);else if(3==u&&0==d)M=r.readUnicode(t,v,g/2);else if(0==d)M=r.readASCII(t,v,g);else if(1==d)M=r.readUnicode(t,v,g/2);else if(3==d)M=r.readUnicode(t,v,g/2);else{if(1!=u)throw"unknown encoding "+d+", platformID: "+u;M=r.readASCII(t,v,g),console.debug("reading unknown MAC encoding "+d+" as ASCII")}var b="p"+u+","+p.toString(16);null==o[b]&&(o[b]={}),o[b][void 0!==y?y:m]=M,o[b]._lang=p}for(var A in o)if(null!=o[A].postScriptName&&1033==o[A]._lang)return o[A];for(var A in o)if(null!=o[A].postScriptName&&0==o[A]._lang)return o[A];for(var A in o)if(null!=o[A].postScriptName&&3084==o[A]._lang)return o[A];for(var A in o)if(null!=o[A].postScriptName)return o[A];for(var A in o){s=A;break}return console.debug("returning name table with languageID "+o[s]._lang),o[s]},e["OS/2"]={},e["OS/2"].parse=function(t,i,n){var r=e._bin.readUshort(t,i);i+=2;var o={};if(0==r)e["OS/2"].version0(t,i,o);else if(1==r)e["OS/2"].version1(t,i,o);else if(2==r||3==r||4==r)e["OS/2"].version2(t,i,o);else{if(5!=r)throw"unknown OS/2 table version: "+r;e["OS/2"].version5(t,i,o)}return o},e["OS/2"].version0=function(t,i,n){var r=e._bin;return n.xAvgCharWidth=r.readShort(t,i),i+=2,n.usWeightClass=r.readUshort(t,i),i+=2,n.usWidthClass=r.readUshort(t,i),i+=2,n.fsType=r.readUshort(t,i),i+=2,n.ySubscriptXSize=r.readShort(t,i),i+=2,n.ySubscriptYSize=r.readShort(t,i),i+=2,n.ySubscriptXOffset=r.readShort(t,i),i+=2,n.ySubscriptYOffset=r.readShort(t,i),i+=2,n.ySuperscriptXSize=r.readShort(t,i),i+=2,n.ySuperscriptYSize=r.readShort(t,i),i+=2,n.ySuperscriptXOffset=r.readShort(t,i),i+=2,n.ySuperscriptYOffset=r.readShort(t,i),i+=2,n.yStrikeoutSize=r.readShort(t,i),i+=2,n.yStrikeoutPosition=r.readShort(t,i),i+=2,n.sFamilyClass=r.readShort(t,i),i+=2,n.panose=r.readBytes(t,i,10),i+=10,n.ulUnicodeRange1=r.readUint(t,i),i+=4,n.ulUnicodeRange2=r.readUint(t,i),i+=4,n.ulUnicodeRange3=r.readUint(t,i),i+=4,n.ulUnicodeRange4=r.readUint(t,i),i+=4,n.achVendID=[r.readInt8(t,i),r.readInt8(t,i+1),r.readInt8(t,i+2),r.readInt8(t,i+3)],i+=4,n.fsSelection=r.readUshort(t,i),i+=2,n.usFirstCharIndex=r.readUshort(t,i),i+=2,n.usLastCharIndex=r.readUshort(t,i),i+=2,n.sTypoAscender=r.readShort(t,i),i+=2,n.sTypoDescender=r.readShort(t,i),i+=2,n.sTypoLineGap=r.readShort(t,i),i+=2,n.usWinAscent=r.readUshort(t,i),i+=2,n.usWinDescent=r.readUshort(t,i),i+2},e["OS/2"].version1=function(t,i,n){var r=e._bin;return i=e["OS/2"].version0(t,i,n),n.ulCodePageRange1=r.readUint(t,i),i+=4,n.ulCodePageRange2=r.readUint(t,i),i+4},e["OS/2"].version2=function(t,i,n){var r=e._bin;return i=e["OS/2"].version1(t,i,n),n.sxHeight=r.readShort(t,i),i+=2,n.sCapHeight=r.readShort(t,i),i+=2,n.usDefault=r.readUshort(t,i),i+=2,n.usBreak=r.readUshort(t,i),i+=2,n.usMaxContext=r.readUshort(t,i),i+2},e["OS/2"].version5=function(t,i,n){var r=e._bin;return i=e["OS/2"].version2(t,i,n),n.usLowerOpticalPointSize=r.readUshort(t,i),i+=2,n.usUpperOpticalPointSize=r.readUshort(t,i),i+2},e.post={},e.post.parse=function(t,i,n){var r=e._bin,o={};return o.version=r.readFixed(t,i),i+=4,o.italicAngle=r.readFixed(t,i),i+=4,o.underlinePosition=r.readShort(t,i),i+=2,o.underlineThickness=r.readShort(t,i),i+=2,o},null==e&&(e={}),null==e.U&&(e.U={}),e.U.codeToGlyph=function(t,e){var i=t.cmap,n=-1;if(null!=i.p0e4?n=i.p0e4:null!=i.p3e1?n=i.p3e1:null!=i.p1e0?n=i.p1e0:null!=i.p0e3&&(n=i.p0e3),-1==n)throw"no familiar platform and encoding!";var r=i.tables[n];if(0==r.format)return e>=r.map.length?0:r.map[e];if(4==r.format){for(var o=-1,a=0;a<r.endCount.length;a++)if(e<=r.endCount[a]){o=a;break}return-1==o||r.startCount[o]>e?0:65535&(0!=r.idRangeOffset[o]?r.glyphIdArray[e-r.startCount[o]+(r.idRangeOffset[o]>>1)-(r.idRangeOffset.length-o)]:e+r.idDelta[o])}if(12==r.format){if(e>r.groups[r.groups.length-1][1])return 0;for(a=0;a<r.groups.length;a++){var s=r.groups[a];if(s[0]<=e&&e<=s[1])return s[2]+(e-s[0])}return 0}throw"unknown cmap table format "+r.format},e.U.glyphToPath=function(t,i){var n={cmds:[],crds:[]};if(t.SVG&&t.SVG.entries[i]){var r=t.SVG.entries[i];return null==r?n:("string"==typeof r&&(r=e.SVG.toPath(r),t.SVG.entries[i]=r),r)}if(t.CFF){var o={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:t.CFF.Private?t.CFF.Private.defaultWidthX:0,open:!1},a=t.CFF,s=t.CFF.Private;if(a.ROS){for(var l=0;a.FDSelect[l+2]<=i;)l+=2;s=a.FDArray[a.FDSelect[l+1]].Private}e.U._drawCFF(t.CFF.CharStrings[i],o,a,s,n)}else t.glyf&&e.U._drawGlyf(i,t,n);return n},e.U._drawGlyf=function(t,i,n){var r=i.glyf[t];null==r&&(r=i.glyf[t]=e.glyf._parseGlyf(i,t)),null!=r&&(r.noc>-1?e.U._simpleGlyph(r,n):e.U._compoGlyph(r,i,n))},e.U._simpleGlyph=function(t,i){for(var n=0;n<t.noc;n++){for(var r=0==n?0:t.endPts[n-1]+1,o=t.endPts[n],a=r;a<=o;a++){var s=a==r?o:a-1,l=a==o?r:a+1,h=1&t.flags[a],c=1&t.flags[s],u=1&t.flags[l],d=t.xs[a],p=t.ys[a];if(a==r)if(h){if(!c){e.U.P.moveTo(i,d,p);continue}e.U.P.moveTo(i,t.xs[s],t.ys[s])}else c?e.U.P.moveTo(i,t.xs[s],t.ys[s]):e.U.P.moveTo(i,(t.xs[s]+d)/2,(t.ys[s]+p)/2);h?c&&e.U.P.lineTo(i,d,p):u?e.U.P.qcurveTo(i,d,p,t.xs[l],t.ys[l]):e.U.P.qcurveTo(i,d,p,(d+t.xs[l])/2,(p+t.ys[l])/2)}e.U.P.closePath(i)}},e.U._compoGlyph=function(t,i,n){for(var r=0;r<t.parts.length;r++){var o={cmds:[],crds:[]},a=t.parts[r];e.U._drawGlyf(a.glyphIndex,i,o);for(var s=a.m,l=0;l<o.crds.length;l+=2){var h=o.crds[l],c=o.crds[l+1];n.crds.push(h*s.a+c*s.b+s.tx),n.crds.push(h*s.c+c*s.d+s.ty)}for(l=0;l<o.cmds.length;l++)n.cmds.push(o.cmds[l])}},e.U._getGlyphClass=function(t,i){var n=e._lctf.getInterval(i,t);return-1==n?0:i[n+2]},e.U._applySubs=function(t,i,n,r){for(var o=t.length-i-1,a=0;a<n.tabs.length;a++)if(null!=n.tabs[a]){var s,l=n.tabs[a];if(!l.coverage||-1!=(s=e._lctf.coverageIndex(l.coverage,t[i])))if(1==n.ltype)t[i],1==l.fmt?t[i]=t[i]+l.delta:t[i]=l.newg[s];else if(4==n.ltype)for(var h=l.vals[s],c=0;c<h.length;c++){var u=h[c],d=u.chain.length;if(!(d>o)){for(var p=!0,m=0,g=0;g<d;g++){for(;-1==t[i+m+(1+g)];)m++;u.chain[g]!=t[i+m+(1+g)]&&(p=!1)}if(p){for(t[i]=u.nglyph,g=0;g<d+m;g++)t[i+g+1]=-1;break}}}else if(5==n.ltype&&2==l.fmt)for(var f=e._lctf.getInterval(l.cDef,t[i]),M=l.cDef[f+2],y=l.scset[M],v=0;v<y.length;v++){var b=y[v],A=b.input;if(!(A.length>o)){for(p=!0,g=0;g<A.length;g++){var P=e._lctf.getInterval(l.cDef,t[i+1+g]);if(-1==f&&l.cDef[P+2]!=A[g]){p=!1;break}}if(p){var x=b.substLookupRecords;for(c=0;c<x.length;c+=2)x[c],x[c+1]}}}else if(6==n.ltype&&3==l.fmt){if(!e.U._glsCovered(t,l.backCvg,i-l.backCvg.length))continue;if(!e.U._glsCovered(t,l.inptCvg,i))continue;if(!e.U._glsCovered(t,l.ahedCvg,i+l.inptCvg.length))continue;var S=l.lookupRec;for(v=0;v<S.length;v+=2){f=S[v];var C=r[S[v+1]];e.U._applySubs(t,i+f,C,r)}}}},e.U._glsCovered=function(t,i,n){for(var r=0;r<i.length;r++)if(-1==e._lctf.coverageIndex(i[r],t[n+r]))return!1;return!0},e.U.glyphsToPath=function(t,i,n){for(var r={cmds:[],crds:[]},o=0,a=0;a<i.length;a++){var s=i[a];if(-1!=s){for(var l=a<i.length-1&&-1!=i[a+1]?i[a+1]:0,h=e.U.glyphToPath(t,s),c=0;c<h.crds.length;c+=2)r.crds.push(h.crds[c]+o),r.crds.push(h.crds[c+1]);for(n&&r.cmds.push(n),c=0;c<h.cmds.length;c++)r.cmds.push(h.cmds[c]);n&&r.cmds.push("X"),o+=t.hmtx.aWidth[s],a<i.length-1&&(o+=e.U.getPairAdjustment(t,s,l))}}return r},e.U.P={},e.U.P.moveTo=function(t,e,i){t.cmds.push("M"),t.crds.push(e,i)},e.U.P.lineTo=function(t,e,i){t.cmds.push("L"),t.crds.push(e,i)},e.U.P.curveTo=function(t,e,i,n,r,o,a){t.cmds.push("C"),t.crds.push(e,i,n,r,o,a)},e.U.P.qcurveTo=function(t,e,i,n,r){t.cmds.push("Q"),t.crds.push(e,i,n,r)},e.U.P.closePath=function(t){t.cmds.push("Z")},e.U._drawCFF=function(t,i,n,r,o){for(var a=i.stack,s=i.nStems,l=i.haveWidth,h=i.width,c=i.open,u=0,d=i.x,p=i.y,m=0,g=0,f=0,M=0,y=0,v=0,b=0,A=0,P=0,x=0,S={val:0,size:0};u<t.length;){e.CFF.getCharString(t,u,S);var C=S.val;if(u+=S.size,"o1"==C||"o18"==C)a.length%2!=0&&!l&&(h=a.shift()+r.nominalWidthX),s+=a.length>>1,a.length=0,l=!0;else if("o3"==C||"o23"==C)a.length%2!=0&&!l&&(h=a.shift()+r.nominalWidthX),s+=a.length>>1,a.length=0,l=!0;else if("o4"==C)a.length>1&&!l&&(h=a.shift()+r.nominalWidthX,l=!0),c&&e.U.P.closePath(o),p+=a.pop(),e.U.P.moveTo(o,d,p),c=!0;else if("o5"==C)for(;a.length>0;)d+=a.shift(),p+=a.shift(),e.U.P.lineTo(o,d,p);else if("o6"==C||"o7"==C)for(var _=a.length,w="o6"==C,T=0;T<_;T++){var L=a.shift();w?d+=L:p+=L,w=!w,e.U.P.lineTo(o,d,p)}else if("o8"==C||"o24"==C){_=a.length;for(var D=0;D+6<=_;)m=d+a.shift(),g=p+a.shift(),f=m+a.shift(),M=g+a.shift(),d=f+a.shift(),p=M+a.shift(),e.U.P.curveTo(o,m,g,f,M,d,p),D+=6;"o24"==C&&(d+=a.shift(),p+=a.shift(),e.U.P.lineTo(o,d,p))}else{if("o11"==C)break;if("o1234"==C||"o1235"==C||"o1236"==C||"o1237"==C)"o1234"==C&&(g=p,f=(m=d+a.shift())+a.shift(),x=M=g+a.shift(),v=M,A=p,d=(b=(y=(P=f+a.shift())+a.shift())+a.shift())+a.shift(),e.U.P.curveTo(o,m,g,f,M,P,x),e.U.P.curveTo(o,y,v,b,A,d,p)),"o1235"==C&&(m=d+a.shift(),g=p+a.shift(),f=m+a.shift(),M=g+a.shift(),P=f+a.shift(),x=M+a.shift(),y=P+a.shift(),v=x+a.shift(),b=y+a.shift(),A=v+a.shift(),d=b+a.shift(),p=A+a.shift(),a.shift(),e.U.P.curveTo(o,m,g,f,M,P,x),e.U.P.curveTo(o,y,v,b,A,d,p)),"o1236"==C&&(m=d+a.shift(),g=p+a.shift(),f=m+a.shift(),x=M=g+a.shift(),v=M,b=(y=(P=f+a.shift())+a.shift())+a.shift(),A=v+a.shift(),d=b+a.shift(),e.U.P.curveTo(o,m,g,f,M,P,x),e.U.P.curveTo(o,y,v,b,A,d,p)),"o1237"==C&&(m=d+a.shift(),g=p+a.shift(),f=m+a.shift(),M=g+a.shift(),P=f+a.shift(),x=M+a.shift(),y=P+a.shift(),v=x+a.shift(),b=y+a.shift(),A=v+a.shift(),Math.abs(b-d)>Math.abs(A-p)?d=b+a.shift():p=A+a.shift(),e.U.P.curveTo(o,m,g,f,M,P,x),e.U.P.curveTo(o,y,v,b,A,d,p));else if("o14"==C){if(a.length>0&&!l&&(h=a.shift()+n.nominalWidthX,l=!0),4==a.length){var I=a.shift(),O=a.shift(),E=a.shift(),B=a.shift(),z=e.CFF.glyphBySE(n,E),R=e.CFF.glyphBySE(n,B);e.U._drawCFF(n.CharStrings[z],i,n,r,o),i.x=I,i.y=O,e.U._drawCFF(n.CharStrings[R],i,n,r,o)}c&&(e.U.P.closePath(o),c=!1)}else if("o19"==C||"o20"==C)a.length%2!=0&&!l&&(h=a.shift()+r.nominalWidthX),s+=a.length>>1,a.length=0,l=!0,u+=s+7>>3;else if("o21"==C)a.length>2&&!l&&(h=a.shift()+r.nominalWidthX,l=!0),p+=a.pop(),d+=a.pop(),c&&e.U.P.closePath(o),e.U.P.moveTo(o,d,p),c=!0;else if("o22"==C)a.length>1&&!l&&(h=a.shift()+r.nominalWidthX,l=!0),d+=a.pop(),c&&e.U.P.closePath(o),e.U.P.moveTo(o,d,p),c=!0;else if("o25"==C){for(;a.length>6;)d+=a.shift(),p+=a.shift(),e.U.P.lineTo(o,d,p);m=d+a.shift(),g=p+a.shift(),f=m+a.shift(),M=g+a.shift(),d=f+a.shift(),p=M+a.shift(),e.U.P.curveTo(o,m,g,f,M,d,p)}else if("o26"==C)for(a.length%2&&(d+=a.shift());a.length>0;)m=d,g=p+a.shift(),d=f=m+a.shift(),p=(M=g+a.shift())+a.shift(),e.U.P.curveTo(o,m,g,f,M,d,p);else if("o27"==C)for(a.length%2&&(p+=a.shift());a.length>0;)g=p,f=(m=d+a.shift())+a.shift(),M=g+a.shift(),d=f+a.shift(),p=M,e.U.P.curveTo(o,m,g,f,M,d,p);else if("o10"==C||"o29"==C){var V="o10"==C?r:n;if(0==a.length)console.debug("error: empty stack");else{var N=a.pop(),Y=V.Subrs[N+V.Bias];i.x=d,i.y=p,i.nStems=s,i.haveWidth=l,i.width=h,i.open=c,e.U._drawCFF(Y,i,n,r,o),d=i.x,p=i.y,s=i.nStems,l=i.haveWidth,h=i.width,c=i.open}}else if("o30"==C||"o31"==C){var k=a.length,F=(D=0,"o31"==C);for(D+=k-(_=-3&k);D<_;)F?(g=p,f=(m=d+a.shift())+a.shift(),p=(M=g+a.shift())+a.shift(),_-D==5?(d=f+a.shift(),D++):d=f,F=!1):(m=d,g=p+a.shift(),f=m+a.shift(),M=g+a.shift(),d=f+a.shift(),_-D==5?(p=M+a.shift(),D++):p=M,F=!0),e.U.P.curveTo(o,m,g,f,M,d,p),D+=4}else{if("o"==(C+"").charAt(0))throw console.debug("Unknown operation: "+C,t),C;a.push(C)}}}i.x=d,i.y=p,i.nStems=s,i.haveWidth=l,i.width=h,i.open=c};var i=e,n={Typr:i};return t.Typr=i,t.default=n,Object.defineProperty(t,"__esModule",{value:!0}),t}({}).Typr}
)}
)